import{b as Qe,u as Ue,a as Le,Q as ne,d as E,c as V}from"./QList-DPx4wIYB.js";import{t as W,c as u,k as g,l as N,q as ge,W as ve,X as Fe,g as me,r as C,Y as Me,Z as He,w as Q,$ as Re,a0 as Ke,T as je,b as Ve,s as $e,a1 as We,a as be,Q as Ne,u as ze,a2 as Ge,A as Je,_ as Xe,B as m,C as O,D as q,E as f,G as c,M as A,S as oe,R as P,I as ae,J as se,K as Ye,L as Ze,H as I}from"./index-CdAorwm_.js";import{n as ye,g as et,a as $}from"./QBtn-xjml9GJ-.js";import{u as tt,c as nt,d as we,v as le,e as ot,f as at,g as st,h as lt,i as it,j as rt,k as ut,p as ie,r as re,l as ct,s as dt,m as ft,n as ht,o as gt,b as ue,Q as vt,a as mt}from"./axios-CIMWUb_f.js";import{u as bt}from"./use-id-CTvbMyKM.js";import{Q as ce}from"./QItemLabel-CNjaTa-w.js";const yt=W({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=u(()=>{const s=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${s.length!==0?" "+s:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>g("div",{class:o.value},N(t.default))}}),y=[];let p;function wt(e){p=e.keyCode===27}function kt(){p===!0&&(p=!1)}function pt(e){p===!0&&(p=!1,ve(e,27)===!0&&y[y.length-1](e))}function ke(e){window[e]("keydown",wt),window[e]("blur",kt),window[e]("keyup",pt),p=!1}function Bt(e){ge.is.desktop===!0&&(y.push(e),y.length===1&&ke("addEventListener"))}function de(e){const t=y.indexOf(e);t!==-1&&(y.splice(t,1),y.length===0&&ke("removeEventListener"))}const w=[];function pe(e){w[w.length-1](e)}function _t(e){ge.is.desktop===!0&&(w.push(e),w.length===1&&document.body.addEventListener("focusin",pe))}function St(e){const t=w.indexOf(e);t!==-1&&(w.splice(t,1),w.length===0&&document.body.removeEventListener("focusin",pe))}const Pt=W({name:"QMenu",inheritAttrs:!1,props:{...tt,...nt,...Qe,...we,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:le},self:{type:String,validator:le},offset:{type:Array,validator:ot},scrollTarget:Fe,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...at,"click","escapeKey"],setup(e,{slots:t,emit:o,attrs:s}){let l=null,r,i,b;const x=me(),{proxy:k}=x,{$q:d}=k,h=C(null),v=C(!1),U=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),L=Ue(e,d),{registerTick:F,removeTick:M}=Me(),{registerTimeout:T}=He(),{transitionProps:D,transitionStyle:B}=st(e),{localScrollTarget:a,changeScrollEvent:Be,unconfigureScrollTarget:_e}=lt(e,ee),{anchorEl:_,canShow:Se}=it({showing:v}),{hide:z}=rt({showing:v,canShow:Se,handleShow:Te,handleHide:De,hideOnRouteChange:U,processOnMount:!0}),{showPortal:G,hidePortal:J,renderPortal:Pe}=ut(x,h,Oe,"menu"),H={anchorEl:_,innerRef:h,onClickOutside(n){if(e.persistent!==!0&&v.value===!0)return z(n),(n.type==="touchstart"||n.target.classList.contains("q-dialog__backdrop"))&&$e(n),!0}},X=u(()=>ie(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),qe=u(()=>e.cover===!0?X.value:ie(e.self||"top start",d.lang.rtl)),Ce=u(()=>(e.square===!0?" q-menu--square":"")+(L.value===!0?" q-menu--dark q-dark":"")),xe=u(()=>e.autoClose===!0?{onClick:Ee}:{}),Y=u(()=>v.value===!0&&e.persistent!==!0);Q(Y,n=>{n===!0?(Bt(K),ft(H)):(de(K),re(H))});function R(){Le(()=>{let n=h.value;n&&n.contains(document.activeElement)!==!0&&(n=n.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.querySelector("[autofocus], [data-autofocus]")||n,n.focus({preventScroll:!0}))})}function Te(n){if(l=e.noRefocus===!1?document.activeElement:null,_t(te),G(),ee(),r=void 0,n!==void 0&&(e.touchPosition||e.contextMenu)){const j=Re(n);if(j.left!==void 0){const{top:Ae,left:Ie}=_.value.getBoundingClientRect();r={left:j.left-Ie,top:j.top-Ae}}}i===void 0&&(i=Q(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,S)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{S(),e.noFocus!==!0&&R()}),T(()=>{d.platform.is.ios===!0&&(b=e.autoClose,h.value.click()),S(),G(!0),o("show",n)},e.transitionDuration)}function De(n){M(),J(),Z(!0),l!==null&&(n===void 0||n.qClickOutside!==!0)&&(((n&&n.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),T(()=>{J(!0),o("hide",n)},e.transitionDuration)}function Z(n){r=void 0,i!==void 0&&(i(),i=void 0),(n===!0||v.value===!0)&&(St(te),_e(),re(H),de(K)),n!==!0&&(l=null)}function ee(){(_.value!==null||e.scrollTarget!==void 0)&&(a.value=Ke(_.value,e.scrollTarget),Be(a.value,S))}function Ee(n){b!==!0?(ct(k,n),o("click",n)):b=!1}function te(n){Y.value===!0&&e.noFocus!==!0&&We(h.value,n.target)!==!0&&R()}function K(n){o("escapeKey"),z(n)}function S(){dt({targetEl:h.value,offset:e.offset,anchorEl:_.value,anchorOrigin:X.value,selfOrigin:qe.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Oe(){return g(je,D.value,()=>v.value===!0?g("div",{role:"menu",...s,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+Ce.value,s.class],style:[s.style,B.value],...xe.value},N(t.default)):null)}return Ve(Z),Object.assign(k,{focus:R,updatePosition:S}),Pe}}),qt=Object.keys(ye);function Ct(e){return qt.reduce((t,o)=>{const s=e[o];return s!==void 0&&(t[o]=s),t},{})}const xt=W({name:"QBtnDropdown",props:{...ye,...we,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:o}){const{proxy:s}=me(),l=C(e.modelValue),r=C(null),i=bt(),b=u(()=>{const a={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||s.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(a["aria-disabled"]="true"),a}),x=u(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),k=u(()=>et(e)),d=u(()=>Ct(e));Q(()=>e.modelValue,a=>{r.value!==null&&r.value[a?"show":"hide"]()}),Q(()=>e.split,B);function h(a){l.value=!0,o("beforeShow",a)}function v(a){o("show",a),o("update:modelValue",!0)}function U(a){l.value=!1,o("beforeHide",a)}function L(a){o("hide",a),o("update:modelValue",!1)}function F(a){o("click",a)}function M(a){ze(a),B(),o("click",a)}function T(a){r.value!==null&&r.value.toggle(a)}function D(a){r.value!==null&&r.value.show(a)}function B(a){r.value!==null&&r.value.hide(a)}return Object.assign(s,{show:D,hide:B,toggle:T}),be(()=>{e.modelValue===!0&&D()}),()=>{const a=[g(Ne,{class:x.value,name:e.dropdownIcon||s.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&a.push(g(Pt,{ref:r,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:h,onShow:v,onBeforeHide:U,onHide:L},t.default)),e.split===!1?g($,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:F},{default:()=>N(t.label,[]).concat(a),loading:t.loading}):g(yt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...k.value,glossy:e.glossy,stretch:e.stretch},()=>[g($,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:t.label,loading:t.loading}),g($,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...b.value,...k.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>a)])}}});function fe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const he=Ge({name:"close-popup",beforeMount(e,{value:t}){const o={depth:fe(t),handler(s){o.depth!==0&&setTimeout(()=>{const l=ht(e);l!==void 0&&gt(l,s,o.depth)})},handlerKey(s){ve(s,13)===!0&&o.handler(s)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=fe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),Tt=Je("posts",{state:()=>({posts:[],users:[],loading:!1,selectedUser:""}),getters:{filteredPosts:e=>e.posts},actions:{fetchUsers(){ue.get("https://jsonplaceholder.typicode.com/users").then(e=>{this.users=e.data}).catch(e=>{console.error("Error fetching users:",e)})},applyFilter(e){this.loading=!0,this.selectedUser=e,setTimeout(()=>{ue.get(`https://jsonplaceholder.typicode.com/posts?userId=${e}`).then(t=>{this.posts=t.data,this.loading=!1}).catch(t=>{console.error("Error fetching posts:",t),this.loading=!1})},1e3)},getUser(e){return this.users.find(t=>t.id===e)||{}}}}),Dt={name:"Post",setup(){const e=Tt(),t=C("");be(()=>{e.fetchUsers()});const o=l=>{t.value=l,s()},s=()=>{e.applyFilter(t.value)};return{selectedUser:t,users:u(()=>e.users),posts:u(()=>e.posts),filteredPosts:u(()=>e.filteredPosts),loading:u(()=>e.loading),applyFilter:s,getUser:e.getUser,selectUser:o}}},Et=e=>(Ye("data-v-3d06072b"),e=e(),Ze(),e),Ot=Et(()=>q("h1",null,"POST",-1)),At={class:"nj"},It={class:"content-container"},Qt={key:0,class:"spinner-container"};function Ut(e,t,o,s,l,r){return m(),O("div",null,[Ot,q("div",At,[f(xt,{id:"userFilter",color:"dark",label:"User","dropdown-icon":"change_history"},{default:c(()=>[f(ne,null,{default:c(()=>[oe((m(),A(V,{clickable:"",onClick:t[0]||(t[0]=i=>s.selectUser(""))},{default:c(()=>[f(E,null,{default:c(()=>[P(" All Users ")]),_:1})]),_:1})),[[he]]),(m(!0),O(ae,null,se(s.users,i=>oe((m(),A(V,{key:i.id,clickable:"",onClick:b=>s.selectUser(i.id)},{default:c(()=>[f(E,null,{default:c(()=>[P(I(i.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[he]])),128))]),_:1})]),_:1})]),q("div",It,[s.loading?(m(),O("div",Qt,[f(mt,{color:"dark",size:"3em"}),f(vt,{offset:[0,8]},{default:c(()=>[P("Loading...")]),_:1})])):(m(),A(ne,{key:1,bordered:"",separator:""},{default:c(()=>[(m(!0),O(ae,null,se(s.filteredPosts,i=>(m(),A(V,{clickable:"",key:i.id},{default:c(()=>[f(E,null,{default:c(()=>[f(E,{header:""},{default:c(()=>[P(I(i.title),1)]),_:2},1024),f(ce,{caption:""},{default:c(()=>[P(I(i.body),1)]),_:2},1024),f(ce,{overline:""},{default:c(()=>[q("p",null,[q("strong",null,"User: "+I(s.getUser(i.userId).name),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))])])}const jt=Xe(Dt,[["render",Ut],["__scopeId","data-v-3d06072b"]]);export{jt as default};
